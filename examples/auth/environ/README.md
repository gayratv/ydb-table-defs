# Авторизация с использованием авторизованного ключа сервисного аккаунта
Данный метод использован практически для всех имеющихся здесь примеров (за исключением auth).

Предлагаемый метод отличается от авторизации по IAM токену тем, что авторизованный ключ сервисного аккаунта не имеет конечного срока действия в отличие от IAM токена, срок действия которого составляет 12 часов.

# Краткое описание
1. Сформируйте файл с ключами и поместите ключи в файл service_account_key_file.json
2. Создайте файл env.local в корне проекта и запишите туда необходимые переменные
3. Инициализируйте драйвер как сделано в настоящем примере

# Формирование ключа для доступа к YDB
В корневой директории необходимо сформировать ключ для доступа к базе.
Ключ будет сформирован в файле service_account_key_file.json

Запустите команду: (если Вы под windows - то лучше запускать из wsl - в противном случае Вам необходимо убрать слеши из команды)
```
yc iam key create \
--folder-id <идентификатор каталога> \
--service-account-name <имя сервисного аккаунта> \
--output service_account_key_file.json
```

### yc
Про установку и настройку yc прочитайте тут:

https://cloud.yandex.ru/docs/cli/quickstart

## Создание конфигурационного файла
Создайте файл env.local в корневой директории.
Скопируйте туда строку:
YDB_SERVICE_ACCOUNT_KEY_FILE_CREDENTIALS=service_account_key_file.json
(готовый пример файла уже приведен в данном проекте, в данном файле секреты отсутствуют)

В файл env.local необходимо поместить значения переменных:

DOCUMENT_API_ENDPOINT
DATABASENAME

Указанные значения необходимо скопировать из web-интерфейса YDB из свойств базы данных.
